<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.1 at 06. Nov 2016 10:34 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20161106" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Secured Properties library &#x2013; </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.5.min.js"></script>

                      </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="https://github.com/brabenetz/secured-properties">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                    <a href="http://secured-properties.brabenetz.net" id="bannerLeft">
                <h2>Secured Properties</h2>
                </a>
                      </div>
        <div class="pull-right">                  <a href="https://github.com/brabenetz/secured-properties" id="bannerRight">
                                                                                                <img src="images/github-logo-37px.png"  alt="GitHub"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                  <li id="publishDate">Last Published: 06. Nov 2016 10:34
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 1.0-beta2
                      </li>
                      
              
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
              
                <ul class="nav nav-list">
                    <li class="nav-header">Secured Properties Library</li>
                              
      <li class="active">
  
            <a href="#"><span class="none"></span>Overview</a>
          </li>
                
      <li>
  
                          <a href="download.html" title="Download">
          <span class="none"></span>
        Download</a>
            </li>
                
      <li>
  
                          <a href="configuration.html" title="Configuration">
          <span class="none"></span>
        Configuration</a>
            </li>
                
      <li>
  
                          <a href="changes-report.html" title="Changes">
          <span class="none"></span>
        Changes</a>
            </li>
                
      <li>
  
                          <a href="http://secured-properties.brabenetz.net/archiv/" class="externalLink" title="Archiv">
          <span class="none"></span>
        Archiv</a>
            </li>
                              <li class="nav-header">Examples</li>
                              
      <li>
  
                          <a href="exampleSettings4j.html" title="Settings4j">
          <span class="none"></span>
        Settings4j</a>
            </li>
                
      <li>
  
                          <a href="exampleCommonsConfiguration.html" title="CommonsConfiguration">
          <span class="none"></span>
        CommonsConfiguration</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-down"></span>
        Project Information</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="integration.html" title="CI Management">
          <span class="none"></span>
        CI Management</a>
            </li>
                    
      <li>
  
                          <a href="dependencies.html" title="Dependencies">
          <span class="none"></span>
        Dependencies</a>
            </li>
                    
      <li>
  
                          <a href="dependency-info.html" title="Dependency Information">
          <span class="none"></span>
        Dependency Information</a>
            </li>
                    
      <li>
  
                          <a href="distribution-management.html" title="Distribution Management">
          <span class="none"></span>
        Distribution Management</a>
            </li>
                    
      <li class="active">
  
            <a href="#"><span class="none"></span>About</a>
          </li>
                    
      <li>
  
                          <a href="issue-tracking.html" title="Issue Management">
          <span class="none"></span>
        Issue Management</a>
            </li>
                    
      <li>
  
                          <a href="license.html" title="Licenses">
          <span class="none"></span>
        Licenses</a>
            </li>
                    
      <li>
  
                          <a href="plugin-management.html" title="Plugin Management">
          <span class="none"></span>
        Plugin Management</a>
            </li>
                    
      <li>
  
                          <a href="plugins.html" title="Plugins">
          <span class="none"></span>
        Plugins</a>
            </li>
                    
      <li>
  
                          <a href="team-list.html" title="Team">
          <span class="none"></span>
        Team</a>
            </li>
                    
      <li>
  
                          <a href="source-repository.html" title="Source Code Management">
          <span class="none"></span>
        Source Code Management</a>
            </li>
                    
      <li>
  
                          <a href="project-summary.html" title="Summary">
          <span class="none"></span>
        Summary</a>
            </li>
              </ul>
        </li>
                                                                                                                                                                                                                                    
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-right"></span>
        Project Reports</a>
                  </li>
            </ul>
              
                            <form id="search-form" action="https://www.google.com/search" method="get" >
    
  <input value="secured-properties.brabenetz.net" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="https://cse.google.com/brand?form=search-form"></script>
          
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <p><a class="externalLink" href="http://travis-ci.org/brabenetz/secured-properties"><img src="https://secure.travis-ci.org/brabenetz/secured-properties.png?branch=master" alt="Build Status" /></a> <a class="externalLink" href="https://coveralls.io/github/brabenetz/secured-properties?branch=code-quality"><img src="https://coveralls.io/repos/brabenetz/secured-properties/badge.svg?branch=code-quality" alt="Coverage Status" /></a> <a class="externalLink" href="https://scan.coverity.com/projects/brabenetz-secured-properties"><img src="https://scan.coverity.com/projects/10666/badge.svg" alt="Coverity" /></a> <a class="externalLink" href="http://secured-properties.brabenetz.net/archiv/latest/"><img src="https://img.shields.io/badge/Maven-site-blue.svg" alt="Maven site" /></a> <a class="externalLink" href="https://github.com/brabenetz/secured-properties/blob/master/LICENSE.txt"><img src="https://img.shields.io/badge/license-Apache_2.0-brightgreen.svg" alt="License: Apache 2.0" /></a> <a class="externalLink" href="https://maven-badges.herokuapp.com/maven-central/net.brabenetz.lib/secured-properties"><img src="https://maven-badges.herokuapp.com/maven-central/net.brabenetz.lib/secured-properties/badge.svg" alt="Maven Central" /></a> <a class="externalLink" href="http://www.javadoc.io/doc/net.brabenetz.lib/secured-properties"><img src="http://www.javadoc.io/badge/net.brabenetz.lib/secured-properties.svg" alt="Javadocs" /></a> <!--
# Costs extra for more than one project:
[![Dependency Status](https://www.versioneye.com/user/projects/1234/badge.svg?style=flat)](https://www.versioneye.com/user/projects/1234)
--></p>
<h1>Secured Properties</h1>
<p>Encrypt and Decrypt secret values (e.g. passwords) in properties files</p>

<ul>
<li><a href="#Basic_Idea">Basic Idea</a></li>
<li><a href="#Usage">Usage</a></li>
<li><a href="#Get_multiple_values_at_ones">Get multiple values at ones</a></li>
<li><a href="#Manual_EncryptionDecryption">Manual Encryption/Decryption</a></li>
<li><a href="#Default_Configurations">Default Configurations</a></li>
<li><a href="#More_Details">More Details</a></li></ul>
<div class="section">
<h2><a name="Basic_Idea"></a>Basic Idea</h2>
<p>The password in a property file should be encrypted by a secret key, stored somewhere save.</p>
<p>This secret file could be stored in:</p>

<ul>
  
<li>The user home folder (at least obfuscating is better then plain-text)</li>
  
<li>A virtual mounted encrypted Drive. e.g.: <a class="externalLink" href="https://veracrypt.codeplex.com">Veracrypt</a></li>
  
<li>A hardware encrypted Drive. e.g.: <a class="externalLink" href="https://amzn.com/B003SHMKHS">Corsair Padloc</a></li>
</ul>
<p><b>&#x201c;Secured Properties&#x201d; can only be as save as the location of the secret key.</b></p></div>
<div class="section">
<h2><a name="Usage"></a>Usage</h2>
<p>The Property file &#x201c;myConfiguration.properties&#x201d;:</p>

<div class="source">
<div class="source"><pre class="prettyprint linenums">mySecretPassword = test
</pre></div></div>
<p>The Java code:</p>

<div class="source">
<div class="source"><pre class="prettyprint linenums">  String secretValue = SecuredProperties.getSecretValue(
      new SecuredPropertiesConfig().withSecretFile(new File(&quot;G:/mysecret.key&quot;)), // custom configurations
      new File(&quot;myConfiguration.properties&quot;), // The Property File
      &quot;mySecretPassword&quot;); // the property-key from &quot;myConfiguration.properties&quot; 
</pre></div></div>
<p>will return &#x201c;test&#x201d; as secretValue and automatically encrypt the value in the property file.</p>
<p>After the first run the Property file will looks similar to the following: </p>

<div class="source">
<div class="source"><pre class="prettyprint linenums">mySecretPassword = {wVtvW8lQrwCf8MA9sadwww==}
</pre></div></div>
<p>This encrypted password can now be read only in combination with the secret file &#x201c;G:/mysecret.key&#x201d; </p></div>
<div class="section">
<h2><a name="Get_multiple_values_at_ones"></a>Get multiple values at ones</h2>
<p>It is also possible to encrypt multiple values at ones:</p>

<div class="source">
<div class="source"><pre class="prettyprint linenums">  Map secretValues = SecuredProperties.getSecretValues(
      new SecuredPropertiesConfig().withSecretFile(new File(&quot;G:/mysecret.key&quot;)), // custom configurations
      new File(&quot;myConfiguration.properties&quot;), // The Property File
      &quot;mySecretPassword&quot;, &quot;anotherSecretPassword&quot;); // the property-keys in &quot;myConfiguration.properties&quot; 
</pre></div></div>
<p>The returned Map contains the decrypted passwords for the two keys &#x201c;mySecretPassword&#x201d;, &#x201c;anotherSecretPassword&#x201d;.</p></div>
<div class="section">
<h2><a name="Manual_EncryptionDecryption"></a>Manual Encryption/Decryption</h2>
<p>In some cases you don&#x2019;t want encrypt/decrypt values from Properties Files.</p>
<p>This example shows how values from System Properties are encrypted/encrypted:</p>

<div class="source">
<div class="source"><pre class="prettyprint linenums">    String systemPropPassword = System.getProperty(key);
    if (SecuredProperties.isEncryptedPassword(systemPropPassword)) {
        return SecuredProperties.decrypt(config, systemPropPassword);
    } else if (StringUtils.isNotEmpty(systemPropPassword)) {
        System.out.println(String.format(&quot;you could now use the following encrypted password: -D%s=%s&quot;, key,
            SecuredProperties.encrypt(config, systemPropPassword)));
        return systemPropPassword;
    } else {
        return null;
    }
</pre></div></div></div>
<div class="section">
<h2><a name="Default_Configurations"></a>Default Configurations</h2>
<p><i>new SecuredPropertiesConfig()</i> is a valid Configuration with following default behaviors:</p>

<ul>
  
<li><b>secretFile</b> default location: &#x201c;%user_home%/.secret/securedProperties.key&#x201d;</li>
  
<li><b>autoCreateSecretKey</b> If the secret key doesn&#x2019;t exists, it will be created automatically</li>
  
<li><b>allowedAlgorithm</b> AES-256, AES-192, AES-128, DESede-168, DESede-128: The first algorithm supported by the java-VM will be used to create the initial secret key.</li>
  
<li><b>autoEncryptNonEncryptedValues</b> If the value in the property file is not already encrypted. it will be replaced by the encrypted value.</li>
</ul>
<p>All this configurations can be customized by the <i>SecuredPropertiesConfig.java</i>.</p>
<p>See: <a class="externalLink" href="http://secured-properties.brabenetz.net/archiv/latest/configuration.html">http://secured-properties.brabenetz.net/archiv/latest/configuration.html</a></p></div>
<div class="section">
<h2><a name="More_Details"></a>More Details</h2>

<ul>
  
<li>Maven Site: <a class="externalLink" href="http://secured-properties.brabenetz.net/archiv/latest/index.html">http://secured-properties.brabenetz.net/archiv/latest/index.html</a></li>
  
<li>Dependency-Information: <a class="externalLink" href="http://secured-properties.brabenetz.net/archiv/latest/download.html">http://secured-properties.brabenetz.net/archiv/latest/download.html</a></li>
  
<li>Custom Configuration: <a class="externalLink" href="http://secured-properties.brabenetz.net/archiv/latest/configuration.html">http://secured-properties.brabenetz.net/archiv/latest/configuration.html</a></li>
  
<li>Example with Settings4j: <a class="externalLink" href="http://secured-properties.brabenetz.net/archiv/latest/exampleSettings4j.html">http://secured-properties.brabenetz.net/archiv/latest/exampleSettings4j.html</a></li>
  
<li>Example with CommonsConfiguration: <a class="externalLink" href="http://secured-properties.brabenetz.net/archiv/latest/exampleCommonsConfiguration.html">http://secured-properties.brabenetz.net/archiv/latest/exampleCommonsConfiguration.html</a></li>
</ul></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                    2016
                        <a href="http://brabenetz.net">Brabenetz Harald, Austria</a>.
            All rights reserved.    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
